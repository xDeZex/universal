# Claude Coding Guidelines for Shopping List App

## Project Overview
This is a Flutter shopping list application with Swedish language support, persistent storage, and drag-and-drop reordering capabilities.

## Coding Standards & Preferences

DO NOT EDIT THIS FILE

### Flutter & Dart Guidelines
- Use Material 3 design (useMaterial3: true)
- Prefer `const` constructors where possible
- Use meaningful variable and class names in English
- Follow Flutter naming conventions (camelCase for variables, PascalCase for classes)
- Always add `key` parameter to stateless widgets
- Use `late` keyword appropriately for late initialization

### State Management
- Use Provider pattern for app state management
- Keep business logic in the main app state class
- Call `notifyListeners()` after state changes
- Always save data to storage after state modifications

### Error Handling
- Wrap async operations in try-catch blocks
- Use null-safe operators (?, ??, !)
- Provide fallback values for potential null cases
- Print errors for debugging but don't crash the app

### Swedish Language Support
- Ensure all text input fields support UTF-8 encoding
- Test with Swedish characters: å, ä, ö, Å, Ä, Ö
- Use proper localization delegates for Material widgets

### Storage & Persistence
- Auto-save all data changes using SharedPreferences
- Implement proper JSON serialization with toJson() and fromJson()
- Load data asynchronously in constructor or initState
- Handle storage errors gracefully

### UI/UX Preferences
- Use Cards for list items with consistent margins
- Show confirmation dialogs for destructive actions (delete)
- Implement proper drag handles for reorderable lists
- Use semantic colors (Colors.grey for completed items)
- Keep floating action buttons for primary actions (+)
- Define a theme and use colors and sizes from that theme

### Code Organization
- Keep models in separate files under lib/models/
- Keep screens in separate files under lib/screens/
- Import statements should be organized (dart: first, then packages, then relative)
- Use meaningful file and folder names

### Code Quality
- Keep nesting to a reasonable amount
- prefer using local classes to make code esier to read
- Adhere to the ideas of Martin Fowler and Kent Beck

### Testing & Quality
- Run `flutter pub get` after adding dependencies
- Always write unit tests for the new code
- Always run unit tests to check that old functionality still works
- Do not change tests which are not related to the new code/functionality being written
- Do not change tests to make them pass. If the tests don't pass the code is wrong

### Environment
- After a change, do not run a hot reload or a restart. You might advise me to do it manually
- I am using and andoid emulator with debugging from vscode.

### git
- In commit messages only mention new things. They should be short and to the point.
- 
## Development Commands
- **Install dependencies**: `flutter pub get`
- **Hot reload**: Press 'r' in terminal
- **Hot restart**: Press 'R' in terminal
- **Build**: `flutter build apk`